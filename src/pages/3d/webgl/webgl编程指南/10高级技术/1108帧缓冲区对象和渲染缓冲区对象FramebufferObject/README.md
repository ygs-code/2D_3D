# 雾化

实现雾化的方式有很多种，这里使用最简单的一种: 线性雾化(linear fog) 在线性雾化中，某一点的雾化程度取决于他与视点之间的距离，距离越远的雾化程度越高，线性雾化有起点和终点，起点表示开始雾化之处，终点表示完雾化之处，两点之间某一点的雾化程度与该点视点距离呈线性关系，注意，比终点更远的点完全雾化啦，即可完全不见啦，某一点雾化程度可以被定义为 雾化因子，并在线性雾化公式中被计算出来。

公式，

​    雾化因子 = (  <终点>  — <当前点与视点之间距离> )  / (<终点> — <起点>)

这里

   起点  <=  <当前点与视点之间距离> <= <终点>



如果雾化因子为 1.0  表示该点完全没有被雾化，可以很清晰的看到此处的物体，

如果其为0.0表示完全被雾化啦。此处的物体完全看不见，

在视线上，起点之前的点雾化因子为1.0 终点之后的点雾化因子为0.0

雾化因子

<img src="./images/1.png" />

在片元着色器根据雾化因子计算片元的颜色

< 片元颜色 > = < 物体表面色 > * < 雾化因子 > + < 雾的颜色 > * ( 1 — < 雾化因子 > )