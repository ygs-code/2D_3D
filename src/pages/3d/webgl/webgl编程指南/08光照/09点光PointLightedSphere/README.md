# 光源类型

平行光:太阳光可以看做是平行光 因为他照射很远。而且范围很大

点光光源:点光可以看做是灯泡光，光源是从一点向周围发出的光。点光源可以用作表示灯泡，火焰等。我们需要指定光源位置和颜色，光线的方向根据点光源的位置和被照射之处的位置计算出来的，因为点光源的光方向在场景内的不同位置是不同的

环境光:环境光(间接光)是指那些经过光源(点光或者平行光源)发出后，被墙壁等物体多次反射，然后照射到物体表面的光，环境光从各个角度照射到物体，其强度都是一致。

物体的表面反色光线有两种

  漫反射:漫反射是针对平行光或者点光而言，漫反射的反射光在各个方向是均匀的，

​      漫反射中，反射的颜色处决于入射光的颜色。表面的基底色，入射与表面形成的入射角，我们将入射角定义为入射光与表面的法线形成的夹角。并用 @ 表示，那么漫反射也是可以根据以下计算得到:

  ```
  漫反射光的颜色 = 入射光颜色 * 表面基底颜色 * cos
  ```



 环境反射：是针对环境光而言。在环境反射中，反射的光方向是可以认为就是入射光的方向。由于环境光照照射物体的方式就是均匀的，强度相等的，所以反射也是各项均匀的。

```
环境反射颜色 = 入射光颜色 * 表面基底颜色
```





### 平行光的漫反射:

漫反射光颜色 = 入射光颜色 * 便面基底颜色 * cos

cos = 光的方向 * 法线方向

漫反射光颜色 = 入射光颜色 * 便面基底颜色 *  光的方向 * 法线方向



### 环境光下的漫反射

漫反射光颜色 = 入射光颜色 * 便面基底颜色 *  光的方向 * 法线方向

环境光的漫反射 = 入射光颜色 * 表面基底颜色(物体颜色)

环境光下的漫反射 = 漫反射光颜色 + 环境环境光颜色









## 线性代数：

(AT)T = A  

(KA)T = KAT

(A+B)T=AT+BT

(AB)T=BTAT



#### A为方阵

|AT|=|A|

(AmT)=(AT)m





#### 逆矩阵

A(A-1)=E         (A-1)-1=A

(KA)-1=(1/K)A-1

(AB)-1=B-1A-1



ABB-1A-1=E

(AB)-1=B-1A-1



(AT)-1=(A-1)T

AT*(A-1)T = ET = T  -> (AT)-1 = (A-1)T

(A-1)T = (AT)-1



|A-1|=1/|A|=|A|-1

A-1*A = E  -  > |A-1| * |A|=1

|A-1|=1/|A|=|A|-1

方阵

(Am)-1=(A-1)m





## 点光

最关键的变化是在定点着色器中，首先使用模型矩阵变换，顶点坐标，获得顶点在世界坐标中的坐标，(即可变换后的坐标)，以便计算点光源在定点处的方向，点光源想四周放射光线，所以顶点处的光线方向是由点光源光坐标减去顶点坐标而得到的矢量，点光源在世界坐标系中的坐标已经传给了着色器的u_LightPosition，前面也已经算出了顶点世界坐标系中的坐标，这样就计算出啦光线方向矢量lightDirection，注意需要使用normalize()函数进行归一化，已保证光线矢量长度为1.0
